extends layout

block content
  h1= pageTitle
  p
    a.button(href= '/books/new')= 'Create New Book'

  p= 'Filters '
    a(href= '/books')= 'All'
    |  | 
    a(href= '/books/overdue')= 'Overdue'
    |  | 
    a(href= '/books/checked')= 'Checked Out'


  table
    thead
      tr
        th= 'Title'
        th= 'Author'
        th= 'Genre'
        th= 'Year Released'

    tbody
      each book in books
        tr
          td
            a(href= '/books/details/' + book.id)= book.title
          td= book.author
          td= book.genre
          td= book.first_published

  if pageNum <= pageTotal
    - var n = 1;
    p= 'Page '
      while n < pageTotal + 1
        - var pageLink = 'page=' + n
        if n == pageNum
          a(href= '#' class= 'active page')= n++
        else
          a(href= '/books?' + pageLink class= 'page')= n++